<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bitBible</title>
    <link id="favicon-link" rel="icon" type="image/x-icon" href="">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1><a href="https://www.webpagearea.com/bitbible" target="_blank">bitBible</a><sub>lite</sub></h1>
    <nav>
        <button id="reading-button">📅</button>
        <button id="bible-button">📖</button>
        <button id="dictionary-button">📘</button>
        <button id="commentary-button">💬</button>
        <button id="map-button">🌍</button>
        <button id="help-button">?</button>
        <nav>
            <button id="decrease-font">-</button>
            <button id="increase-font">+</button>
        </nav>
    </nav>
    <div id="main-container">
        <main id="loading">
            <h3>Loading...</h3>
        </main>
        <main id="reading">
            <h3>Reading Plan</h3>
            <nav>
                <button id="switch-reading-plans">Switch Plans</button>
                <nav>
                    <button id="download-reading-progress">Download Progress</button>
                    <button id="upload-reading-progress">Upload Progress</button></nav>
            </nav>
            <h2 id="reading-plan-name"></h2>
            <table id="reading-plan-table"></table>
            <div id="flex-reading-plan"></div>
        </main>
        <main id="bible">
            <h3 id='bible-name'>Bible</h3>
            <nav>
                <button class="narrow" id="bible-chapter-previous">&lt;</button>
                <select id="bible-book-select"></select>
                <select id="bible-chapter-select"></select>
                <button class="narrow" id="bible-chapter-next">&gt;</button>
                <button id="see-commentary-button" class="no-margin">↱💬</button>
            </nav>
            <div id="bible-contents"></div>
        </main>
        <main id="dictionary">
            <h3>Dictionary</h3>
            <div id="autocomplete-div">
                <input type="text" id="dictionary-input" placeholder="type words here...">
                <button id="dictionary-word-load" class="no-margin">🔎</button>
                <ul id="search-result-list">
                </ul>
            </div>
            <div id="dictionary-contents"></div>
        </main>
        <main id="commentary">
            <h3>Commentary</h3>
            <nav>
                <button class="narrow" id="commentary-chapter-previous">&lt;</button>
                <select id="commentary-select" disabled></select>
                <select id="commentary-book-select"></select>
                <select id="commentary-chapter-select"></select>
                <button class="narrow" id="commentary-chapter-next">&gt;</button>
            </nav>
            <div id="commentary-contents"></div>
        </main>
        <datalist id="bible-words"></datalist>
        <main id="map">
            <h3>Map</h3>
            <nav>
                <button class="btn-select-map" id="map-Abraham">&#9398;</button>
                <button class="btn-select-map" id="map-Moses">&#9410;</button>
                <button class="btn-select-map" id="map-12 Tribes">&#9323;</button>
                <button class="btn-select-map" id="map-Divided Kingdoms">&#10208;</button>
                <button class="btn-select-map" id="map-Jesus">&#9407;</button>
                <button id="btn-clear-all-locations">&#8999;</button>
                <button id="btn-open-google-map">&#127760;</button>
            </nav>
            <div id="map-name">&nbsp;</div>
            <div id="map-info">&nbsp;</div>
            <div id="map-container">
                <img id="base-64-map" src="base64Map.txt" alt="Holy Land Map" />
            </div>
        </main>
        <main id="help">
            <h3 id="help-h3-heading">Help</h3>
            <p>&nbsp;</p>
            <div>
                <h3 class="nested-menu">Main Navigation Buttons</h3>
                <div class="initial-close">
                    <nav class="help-nav">
                        <button>📅</button>
                        <button>📖</button>
                        <button>📘</button>
                        <button>💬</button>
                        <button>🌍</button>
                        <button>?</button>
                        <button>-</button>
                        <button>+</button>
                    </nav>
                    <ul>
                        <li>📅 - Selects the reading plan.</li>
                        <li>📖 - Selects the Bible.</li>
                        <li>📘 - Selects the Dictionary</li>
                        <li>💬 - Selects the Commentary</li>
                        <li>🌍 - Selects the Map</li>
                        <li>? - Selects the Help Page</li>
                        <li>- - Reduces the font size</li>
                        <li>+ - Increases the font size</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div>
                <h3 class="nested-menu">Reading Plan Menu</h3>
                <div class="initial-close">
                    <ul>
                        <li>Switch - Allows you to switch reading plans from Chronological to Straight through the Bible
                            or Old Testament/New Testament Selectitons.</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div>
                <h3 class="nested-menu">Bible Menu Buttons</h3>
                <div class="initial-close">
                    <h3>Bible</h3>
                    <nav>
                        <button class="narrow">&lt;</button>
                        <select>
                            <option>Gen</option>
                        </select>
                        <select>
                            <option>1</option>
                        </select>
                        <button class="narrow" id="bible-chapter-next">&gt;</button>
                        <button class="no-margin">↱💬</button>
                    </nav>
                    <nav>
                        <button>
                            <input type="checkbox">
                            <label>Red Letters</label>
                        </button>
                    </nav>
                    <div id="bible-contents"></div>
                    <ul>
                        <li>Verses that contain Jesus's words shown in red.</li>
                        <li>↱💬 - Will select and open the commentary corresponding to the current Bible book and
                            chapter.</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div>
                <h3 class="nested-menu">Dictionary Search Box</h3>
                <div class="initial-close">
                    <div id="autocomplete-div">
                        <input type="text" id="help-dictionary-input" placeholder="type words here..." value=sale
                            disabled>
                        <button class="no-margin" id="help-dictionary-word-load">🔎</button>
                        <ul id="help-search-result-list">
                            <li>Jerusalem</li>
                            <li class="faint-blue-background">Salem</li>
                        </ul>
                    </div>
                    <div id="dictionary-contents">
                        <div><span class="definition-entry nested-menu">Salem</span>
                            <div><br><b>References</b>: <span class="faint-blue-background">Gen.14.18</span>, <span
                                    class="faint-blue-background">Ps.76.2</span>, <span
                                    class="faint-blue-background">Heb.7.1</span>, <span
                                    class="faint-blue-background">Heb.7.2</span><br><b>Definition</b>:
                                Peace, commonly supposed to be another name of <span
                                    class="faint-blue-background">Jerusalem</span>
                                (<span class="faint-blue-background">Gen.14.18</span>); (<span
                                    class="faint-blue-background">Ps.76.2</span>); (<span
                                    class="faint-blue-background">Heb.7.1</span>), (<span
                                    class="faint-blue-background">Heb.7.2</span>).<br><b>Location</b>:
                                <span class="faint-blue-background">31.777444,35.234935</span><br><br>
                            </div>
                        </div>
                    </div>
                    </nav>
                    <ul>
                        <li>
                            <em>
                                <b>References:</b> some references in the Bible where the word is found. This is not an
                                exhaustive list.
                            </em>
                        </li>
                        <li><em>
                                <b>Definition.</b>
                            </em>
                        </li>
                        <li>
                            <em>
                                <b>Location:</b> Approximate Latitude and Longitude of the location.
                                When clicked, the map is opened and the location is plotted on the map.
                            </em>
                        </li>
                    </ul>
                    <hr>
                    <h3>Highlighted Items</h3>
                    <ul>
                        <li>
                            <span class="faint-blue-background">John.3.16</span><em>- an example of a highlighted link.
                                Opens up to a
                                Bible book
                                and chapter.</em>
                        </li>
                        <li><span class="faint-blue-background">God</span><em>- an example of a highlighted dictionary
                                entry. Opens up
                                the
                                dictionary to the highlighted word.
                                It will attempt to open up to the best dictionary entry of that word if possible.
                            </em>
                        </li>
                    </ul>
                    <hr>
                </div>
            </div>
            <hr>
            <div>
                <h3 class="nested-menu">Map Menu</h3>
                <div class="initial-close">
                    <nav>
                        <button>Ⓐ</button>
                        <button>Ⓜ</button>
                        <button>⑫</button>
                        <button>⟠</button>
                        <button>Ⓙ</button>
                        <button>⌧</button>
                        <button>🌐</button>
                    </nav>
                    <ul>
                        <li>Ⓐ - Overlays places during Abraham's time.</li>
                        <li>Ⓜ - Overlays places during Moses's time.</li>
                        <li>⑫ - Overlays places during the 12 Tribes of Israel.</li>
                        <li>⟠ - Overlays places during the divided Kingdoms of Israel and Judah</li>
                        <li>Ⓙ - Overlays places during Jesus's time.</li>
                        <li>⌧ - Removes plotted places from the map.</li>
                        <li>🌐 - Will launch a web page showing the last plotted location on a map.</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div>
                <h3 class="nested-menu">References</h3>
                <div class="initial-close">
                    <ul>
                        <li><a href="https://viz.bible/" target="_blank">Robert Rouse's (viz.)BIBLE - Inspiring
                                curiosity about the Bible through data visualization</a>
                        </li>
                        <li>.</li>
                        <li>
                            <a href="https://github.com/openbibleinfo/Bible-Geocoding-Data"
                                target="_blank">openbibleinfo/Bible-Geocoding-Data Public</a>
                        </li>
                        <li>.</li>
                        <li>
                            <a href="https://www.openbible.info/geo/" target="_blank">Bible Geocoding</a>
                        </li>
                        <li>.</li>
                        <li>
                            <a href="https://berean.bible" target="_blank">The Holy Bible, Berean Study Bible, BSB</a>
                            Copyright ©2016, 2020 by Bible Hub
                            Used by Permission.
                            All Rights Reserved Worldwide.
                        </li>
                        <li>.</li>
                        <li>
                            <a href="https://en.wikipedia.org/wiki/Easton%27s_Bible_Dictionary" target="_blank">Easton's
                                Bible Dictionary (Fair Use)</a>
                        </li>
                        <li>.</li>
                        <li>
                            <a href="https://en.wikipedia.org/wiki/Jamieson-Fausset-Brown_Bible_Commentary"
                                target="_blank">Jamieson-Fausset-Brown Bible Commentary (Fair Use)</a>
                        </li>
                        <li>.</li>
                        <li>
                            <a href="https://github.com/garydavenport73/bitBible" target="_blank">Author: Gary Davenport
                                bitBible &copy;2022</a>
                        </li>
                    </ul>
                </div>
            </div>
            <hr>
            <div>
                <h3 class="nested-menu">License</h3>
                <div class="initial-close">
                    <pre id="license-pre">
MIT License

Copyright (c) 2022 garydavenport73

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
</pre>
                </div>
            </div>

        </main>
        <span id="old-computer-icon">&#128421;</span>
    </div>

    <footer><a href="https://www.webpagearea.com/bitbible" target="_blank">bitBible 2022</a></footer>
    <script>
        let commentaryBook = "JFB";
        let bibleVersion = "BSB";
    </script>
    <script src='loadMapImage.js'></script>
    <script src='./js/BSB.js'></script>
    <script src='./js/eastons.js'></script>
    <script src='./js/JFB.js'></script>
    <script src='./js/HEADINGS.js'></script>
    <script src='./js/OSISTOFULLNAME.js'></script>
    <script src='./js/OSISBOOKS.js'></script>
    <script src='./js/BOOKLENGTHS.js'></script>
    <script src='./js/PARAGRAPHLOCATIONS.js'></script>
    <script src='./js/CHRONOLOGICALREADINGPLAN.js'></script>
    <script src='./js/OTNTREADINGPLAN.js'></script>
    <script src='./js/STRAIGHTREADINGPLAN.js'></script>
    <script src='./js/CHRONOLOGICALNT260.js'></script>
    <script> let nestedBible = BSB; </script>
    <script src='javascriptLocal.js'></script>
    <script src='javascriptCommon.js'></script>

    <script>    function createReadChapters() {
            readChapters = {};
            for (let i = 0; i < osis.length; i++) {
                readChapters[osis[i]] = false;
            }
            console.log(readChapters);
        }

        function updateReadChapters(evt) {
            console.log(evt.target.id);
            let box = document.getElementById(evt.target.id);
            let bookChap = evt.target.id.replace("-checkbox", "");
            readChapters[bookChap] = box["checked"];
            console.log(readChapters[bookChap]);
        }

        function addEventListenersToChapterCheckboxes() {
            let boxes = document.getElementsByClassName("chapter-checkbox");
            for (let i = 0; i < boxes.length; i++) {
                boxes[i].addEventListener("input", (evt) => updateReadChapters(evt));
            }
        }
        function buildFlexReadingPlanTable(readingPlan) {
            let str = "";
            console.log("readingPlan");
            for (let i = 0; i < 366; i++) {
                let day = "Day " + i.toString();
                if (readingPlan.hasOwnProperty(day)) {
                    console.log(day, readingPlan[day]);
                    let dayReadingList = readingPlan[day].trim().split(",");
                    for (let i = 0; i < dayReadingList.length; i++) {//remove whitspace
                        dayReadingList[i] = dayReadingList[i].trim();
                    }
                    str += "<div>\n";
                    str += "<b class='align-center'>" + day + "</b>";
                    for (let i = 0; i < dayReadingList.length; i++) {//remove whitspace
                        let thisChapter = dayReadingList[i];
                        //str+="<span><input class='chapter-checkbox' type='checkbox' id='"+thisChapter+"-checkbox'><label for='"+thisChapter+"-checkbox' class='osis'>"+thisChapter+"</label></span>";
                        str += "<span><input class='chapter-checkbox' type='checkbox' id='" + thisChapter + "-checkbox'><label class='osis'>" + thisChapter + "</label></span>"
                    }
                    str += "</div>";

                    //     <div>
                    //     <b>Day 1</b>
                    //     <span><input class="chapter-checkbox" type="checkbox" id="Gen.1-checkbox"><label for="Gen.1-checkbox">Gen.1</label></span>
                    //     <span><input class="chapter-checkbox" type="checkbox" id="Gen.2-checkbox"><label
                    //             for="Gen.2-checkbox">Gen.2</label></span>
                    //     <span><input class="chapter-checkbox" type="checkbox" id="Gen.3-checkbox"><label
                    //             for="Gen.3-checkbox">Gen.3</label></span>
                    // </div>
                }
                else (console.log(i, "no day"));
            }
            document.getElementById("flex-reading-plan").innerHTML = str;
        }
        function fillChapterCheckBoxValues() {
            console.log("fillChapterCheckBoxValues() called");
            let checkboxes = document.getElementsByClassName("chapter-checkbox");
            //console.log(checkboxes);
            for (let i = 0; i < checkboxes.length; i++) {
                let osisID = checkboxes[i]["id"].replace("-checkbox", "");

                console.log(i, osisID);
                if ((readChapters[osisID]!==undefined)&&(readChapters[osisID] === true)) {
                    console.log(osisID + "was checked");
                    checkboxes[i]["checked"] = true;
                }
                else {
                    checkboxes[i]["checked"] = false;
                }
            }
        }

        document.getElementById("old-computer-icon").addEventListener("click", toggleFont);
        document.getElementsByTagName("html")[0].style.fontFamily = "Arial, Helvetica, sans-serif";
        //document.getElementsByTagName("html")[0]["style"]["fontFamily"]="Arial, Helvetica, sans-serif";
        function toggleFont() {
            alert("Happy Easter 🥚 !")
            let htmlElement = document.getElementsByTagName("html")[0];
            let buttons = document.getElementsByTagName("button");
            let selects = document.getElementsByTagName("select");
            console.log(htmlElement.style.fontFamily);
            if (htmlElement.style.fontFamily === "Arial, Helvetica, sans-serif") {
                htmlElement.style.fontFamily = "'Courier New', Courier, monospace";
                for (let i = 0; i < buttons.length; i++) {
                    buttons[i].style.fontFamily="'Courier New', Courier, monospace";
                }
                for (let i=0;i<selects.length;i++){
                    selects[i].style.fontFamily="'Courier New', Courier, monospace";
                }
            }
            else {
                htmlElement.style.fontFamily = "Arial, Helvetica, sans-serif";
                for (let i = 0; i < buttons.length; i++) {
                    buttons[i].style.fontFamily="Arial, Helvetica, sans-serif";
                }
                for (let i=0;i<selects.length;i++){
                    selects[i].style.fontFamily="Arial, Helvetica, sans-serif";
                }
            }

            //console.log(document.getElementsByTagName("html")[0].style.fontFamily);// = "Impact,Charcoal,sans-serif")

        }

        loadReadingTable("Chronological", CHRONOLOGICALREADINGPLAN);
        createReadChapters();
        addEventListenersToChapterCheckboxes();
        fillChapterCheckBoxValues();
    </script>
</body>

</html>