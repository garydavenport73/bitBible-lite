(function(_ds){var window=this;var Oca=function(){return(0,_ds.Q)('<span class="devsite-var-input-wrapper"><button class="material-icons devsite-icon-close" tabindex="-1"></button></span>')},Pca=function(){return(0,_ds.Q)('<input class="devsite-var-input" type="text" translate="no" spellcheck="false">')},Qca=function(a){return(0,_ds.Q)('<span class="devsite-var-wrapper"><var spellcheck="false" is-upgraded>'+_ds.T(a.placeholder)+"</var></span>")},Rca=function(){return(0,_ds.Q)('<button class="material-icons devsite-icon-edit" tabindex="-1"></button>')};var G8=function(){return"devsite-var"},Sca=async function(a){a.o=a.innerText;var b=a.getAttribute("label");b||(a.setAttribute("label",a.o),b=a.o);a.qa=b;b=_ds.Kj(a,"devsite-code");a:{if(a.classList.contains("no-scope"))a.removeAttribute("scope");else if(!a.hasAttribute("scope")&&b){var c=!0;break a}c=!1}c&&a.setAttribute("scope",a.o);b&&(await window.customElements.whenDefined("devsite-code"),await b.whenReady());_ds.K(a,Qca,{placeholder:a.innerText});a.h=a.querySelector("var");if(H8(a,b)){b=_ds.L(Rca);
_ds.sj(a.h,b,1);b=a.querySelector(".devsite-var-wrapper");a.v=_ds.L(Oca);_ds.sj(b,a.v,0);a.g=_ds.L(Pca);a.setAttribute("tabindex","0");var d;null==(d=a.h)||d.setAttribute("data-title",`${"Edit"} ${a.qa}`);let e;null==(e=a.h)||e.setAttribute("aria-label",`${"Edit"} ${a.qa}`)}(d=a.getAttribute("scope"))&&(d=window.sessionStorage.getItem(d))&&a.h&&(a.h.innerText=d);a.removeAttribute("label")},H8=function(a,b){if(a.classList.contains("edit"))return!0;if(b){const c=b.querySelector("pre");return!b.hasAttribute("no-copy")&&
!(null==c?0:c.classList.contains("readonly"))&&!a.classList.contains("readonly")}return!1},Uca=function(a){a.eventHandler.listen(a,"focusin",()=>{a.hasAttribute("active")||(a.setAttribute("active",""),_ds.sj(a.v,a.g,0),a.g&&(a.g.value=a.innerText,a.g.select()),a.setAttribute("tabindex","-1"))});a.eventHandler.listen(a.g,"focusout",()=>{a.removeAttribute("active");a.v&&a.g&&a.v.removeChild(a.g);a.setAttribute("tabindex","0")});a.eventHandler.listen(a,"keydown",b=>{if(13===b.keyCode||27===b.keyCode){let c;
null==(c=a.g)||c.blur()}});a.eventHandler.listen(a,"input",b=>{if(!a.oa){if(a.hasAttribute("scope")){var c=a.getAttribute("scope");a.ea=[...document.querySelectorAll(`devsite-var[${"scope"}="${c}"]`)]}else a.ea=[a];a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:"New Placeholder Edited",label:a.o,value:a.ea.length},bubbles:!0}));c={eventData:JSON.stringify({name:"New Placeholder Edited".replace(/\s/g,""),type:"editablePlaceholderVariable",
metadata:{"var":a.o,varsInScope:a.ea.length}})};a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:c,bubbles:!0}));a.oa=!0}b=b.target.value;for(const d of a.ea)d.setAttribute("value",b)});a.eventHandler.listen(a.g,"change",b=>{b=b.target.value;const c=a.getAttribute("scope");c&&window.sessionStorage.setItem(c,b);Tca(a)})},Tca=async function(a){Vca(a);if(a.ma){const b=new _ds.gm;let c;null==(c=a.h)||c.setAttribute("aria-label","Variable updated for current session");
_ds.em(a.eventHandler,a.ma,"transitionend",()=>{b.g()});await b.promise;_ds.em(a.eventHandler,a.ma,"transitionend",()=>{let d;null==(d=a.h)||d.setAttribute("aria-label",`${"Edit"} ${a.qa}`)})}},Vca=function(a){var b="Variable updated for current session";a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",{detail:{msg:b,showClose:!1},bubbles:!0}))},I8=class extends _ds.E{constructor(){super(["devsite-code","devsite-snackbar"]);this.eventHandler=new _ds.G(this);this.oa=!1;this.qa=this.o=
"";this.ma=this.g=this.v=this.h=null;this.ea=[]}static get observedAttributes(){return["value"]}async connectedCallback(){if(!this.hasAttribute("ready")){this.setAttribute("ready","");var a=this.querySelector("var");if(a)for(const b of a.attributes)this.setAttribute(b.name,b.value);await Sca(this)}a=_ds.Kj(this,"devsite-code");H8(this,a)&&Uca(this);this.ma=document.querySelector("devsite-snackbar")}attributeChangedCallback(a,b,c){a=this.querySelector("var");(null==a?0:a.lastElementChild)?(b=a.lastElementChild,
a.innerText=c?c:"",a.appendChild(b)):a&&(a.innerText=c?c:"")}disconnectedCallback(){_ds.H(this.eventHandler)}};I8.prototype.disconnectedCallback=I8.prototype.disconnectedCallback;I8.prototype.attributeChangedCallback=I8.prototype.attributeChangedCallback;I8.prototype.connectedCallback=I8.prototype.connectedCallback;I8.getTagName=G8;try{window.customElements.define(G8(),I8)}catch(a){console.warn("devsite.app.CustomElement.DevsiteVar",a)};})(_ds_www);
